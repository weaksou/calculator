{"mappings":"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","sources":["src/js/calculator.js"],"sourcesContent":["const calculationInput = document.getElementById(\"calculationInput\");\r\nconst calculatorBody = document.querySelector(\".calculator-body\");\r\nconst previousOperation = document.querySelector(\".previous-operator\");\r\n\r\n//reducing font size when value is bigger than 10\r\ncalculationInput.addEventListener(\"input\", reduceFont);\r\nfunction reduceFont() {\r\n  //getting the input value\r\n  let inv = calculationInput.value;\r\n  //what to do with value\r\n  if (inv.length >= 10) {\r\n    calculationInput.classList.add(\"fs30\");\r\n  } else if (inv.length <= 10) {\r\n    calculationInput.classList.remove(\"fs30\");\r\n  }\r\n}\r\n//store some variables so they won't change when click\r\nlet previousKeyType;\r\nlet firstNumber;\r\nlet operator;\r\nlet modValue;\r\nlet prevAnswer = [\"0\"];\r\nlet prevAnswer_index = prevAnswer.length;\r\n\r\ncalculatorBody.addEventListener(\"click\", (event) => {\r\n  if (event.target.matches(\"button\")) {\r\n    const key = event.target;\r\n    const action = key.dataset.action;\r\n    const clickedKey = key.textContent;\r\n    const inputContent = calculationInput.value;\r\n\r\n\r\n    //if clicked on number key\r\n    if (!action) {\r\n      if (\r\n        inputContent === \"0\" ||\r\n        previousKeyType === \"operator\" ||\r\n        previousKeyType === \"calculate\"\r\n      ) {\r\n        calculationInput.value = clickedKey;\r\n        \r\n      } else {\r\n        calculationInput.value = inputContent + clickedKey;\r\n      }\r\n      previousKeyType = \"number\";\r\n    }\r\n\r\n    //if clicked on operator key\r\n    if (\r\n      action === \"add\" ||\r\n      action === \"subtract\" ||\r\n      action === \"multiply\" ||\r\n      action === \"divide\" ||\r\n      action === \"divideByTwo\" ||\r\n      action === \"supTwo\" ||\r\n      action === \"percentage\" ||\r\n      action === \"powx\" ||\r\n      action === \"rootsquare\"\r\n    ) {\r\n    \r\n\r\n      if (firstNumber &&\r\n        operator &&\r\n        previousKeyType !== \"operator\" &&\r\n        previousKeyType !== \"calculate\"\r\n      ) {\r\n        const result = calc(firstNumber, operator, inputContent);\r\n        calculationInput.value = result;\r\n        firstNumber = result;      \r\n      } else {\r\n        firstNumber = inputContent;\r\n      }\r\n     \r\n\r\n      //setting previous key type as operator,  settingvoperator type as clicked operator(using action dataset)\r\n      previousKeyType = \"operator\";\r\n      operator = action;\r\n    }\r\n\r\n    //if clicked on other keys\r\n    if (action === \"decimal\") {\r\n      if (!inputContent.includes(\".\")) {\r\n        calculationInput.value = inputContent + \".\";\r\n      } else if (previousKeyType === \"operator\") {\r\n        inputContent.value = \"0.\";\r\n      }\r\n\r\n      previousKeyType = \"decimal\";\r\n    }\r\n\r\n    //clear functionality e.g: All Clear, Clear entry\r\n    const clearKey = calculatorBody.querySelector('[data-action=\"clear\"]');\r\n    if (action === \"clear\") {\r\n      if (clearKey.textContent === \"AC\") {\r\n        //if clear button (AC) = AC \r\n        firstNumber = '';\r\n        modValue = '';\r\n        operator = '';\r\n        previousKeyType = '';\r\n        previousOperation.textContent = \"\";\r\n\r\n      } else {\r\n        key.textContent = 'AC'\r\n      }\r\n\r\n      calculationInput.value = \"0\";\r\n      previousKeyType = \"clear\";\r\n\r\n    }\r\n\r\n    if (action !== \"clear\" && action !== \"backspace\") {\r\n      clearKey.textContent = \"CE\";\r\n\r\n    }\r\n\r\n    if (action === \"equal\") {\r\n      const firstValue = firstNumber;\r\n      const sOperator = operator;\r\n      const secondValue = inputContent;\r\n      if (firstValue) {\r\n        if (previousKeyType === \"equal\") {\r\n          firstValue = inputContent;\r\n          secondValue = modValue;\r\n        }\r\n        const lastCalc = calc(firstValue, sOperator, secondValue);\r\n        calculationInput.value = lastCalc;\r\n        previousOperation.innerHTML = checkOperator(firstValue, sOperator, secondValue);\r\n        prevAnswer.push(lastCalc);\r\n      }\r\n\r\n      previousKeyType = \"calculate\";\r\n    }\r\n\r\n    if(action === \"divideByTwo\"){\r\n        previousKeyType = \"divideByTwo\";\r\n    }\r\n    if(action === \"backspace\"){\r\n      let displayLength = inputContent;\r\n      if(displayLength !== \"0\"){\r\n        let editedNumber = inputContent.slice(0, -1);\r\n        calculationInput.value = editedNumber;\r\n      }\r\n      if(displayLength === \"\"){\r\n        calculationInput.value = \"0\";\r\n      }\r\n      previousKeyType = \"backspace\";\r\n    }\r\n   \r\n    if(action === \"supTwo\"){\r\n      previousKeyType = \"supTwo\";\r\n    }\r\n\r\n    if(action === \"ans\"){\r\n        prevAnswer_index = prevAnswer.length;\r\n        let ansIndex = 0;\r\n        calculationInput.value = prevAnswer[prevAnswer_index - 1];\r\n\r\n        console.log(prevAnswer)\r\n        console.log(prevAnswer_index)\r\n      previousKeyType = \"ans\";\r\n    }\r\n\r\n    reduceFont();\r\n  }\r\n});\r\n\r\n\r\n\r\n\r\n//outer functions that need to be used both inside and outside the click eventlistener\r\nconst calc = (number1, operator, number2) => {\r\n  //converting string to float number\r\n  const firstNumToFloat = parseFloat(number1);\r\n  const secondNumToFloat = parseFloat(number2);\r\n  //doing calculation based on previous entered operator, and returning number 1 (operator e.g: + -) number two\r\n  if (operator === \"add\") return firstNumToFloat + secondNumToFloat;\r\n\r\n  if (operator === \"subtract\") return firstNumToFloat - secondNumToFloat;\r\n\r\n  if (operator === \"multiply\") return firstNumToFloat * secondNumToFloat;\r\n\r\n  if (operator === \"divide\") return firstNumToFloat / secondNumToFloat;\r\n\r\n  if (operator === \"divideByTwo\") return firstNumToFloat / 2;\r\n\r\n  if(operator === \"supTwo\") return (Math.pow(firstNumToFloat, 2));\r\n\r\n  if (operator === \"percentage\") return firstNumToFloat % secondNumToFloat;\r\n\r\n  if (operator === \"powx\") return Math.pow(firstNumToFloat, secondNumToFloat);\r\n  \r\n  if (operator === \"rootsquare\") return Math.sqrt(firstNumToFloat);\r\n\r\n};\r\n//click on element using Id as a parametre\r\nfunction clickElementByID(id){\r\n  document.getElementById(id).click();\r\n}\r\n\r\n\r\n//key binding \r\n\r\n\r\n//add numbers using keyboard\r\nlet a;\r\nconst keyboardNumbers = [\"0\",\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\"];\r\nconst equalButton = document.getElementById(\"equal\");\r\n//adding the evnet listener for keyboard keys\r\ndocument.addEventListener(\"keydown\", numKeys);\r\nfunction numKeys(event) {\r\n \r\n  //calculate by hitting \"Enter\" key\r\n    blurBtns();\r\n\r\n  if (event.key === \"Enter\" || event.key === \"=\") {\r\n    equalButton.click();\r\n  }\r\n\r\n  //adding support to keyboard numbers\r\n  for (let i = 0; i < keyboardNumbers.length; i++) {\r\n\r\n    const nums = keyboardNumbers[i];\r\n\r\n    if (event.key.includes(nums)) {\r\n      let numIndex = parseInt(event.key);\r\n      document.getElementById(\"num\"+numIndex).click();\r\n\r\n    }\r\n  }\r\n\r\n  //addinng operator support \r\n  //add\r\n  if(event.key === \"+\" || event.key === \"p\"){\r\n    clickElementByID(\"add\");\r\n  }\r\n  //subtract\r\n  if(event.key === \"-\"){\r\n    clickElementByID(\"subtract\");\r\n  }\r\n  //divide\r\n  if(event.key === \"/\"){\r\n    clickElementByID(\"divide\");\r\n  }\r\n  //multiply\r\n  if(event.key === \"*\" || event.key === \"x\"){\r\n    clickElementByID(\"multiply\");\r\n  }\r\n\r\n  //backspace \r\n  if(event.key === \"Backspace\"){\r\n    clickElementByID(\"backspace\");\r\n  }\r\n\r\n\r\n}\r\n\r\nfunction blurBtns(){\r\n  const buttons_bl = calculatorBody.querySelectorAll(\"button\");\r\n  buttons_bl.forEach(element => {\r\n    element.blur();\r\n  });\r\n}\r\n\r\n\r\nfunction checkOperator(firstValue, operator, secondValue){\r\n  switch (operator) {\r\n    case \"add\":\r\n      return firstValue + \" + \" + secondValue;\r\n      break;\r\n  case \"subtract\":\r\n    return firstValue + \" - \" + secondValue;\r\n    break;\r\n  case \"multiply\":\r\n    return firstValue + \" x \" + secondValue;\r\n    break;\r\n  case \"divide\":\r\n    return firstValue +  \" &#247; \" + secondValue;\r\n    break;\r\n  case \"divideByTwo\":\r\n    return firstValue +  \" &#247; 2 \" + secondValue;\r\n    break;\r\n  case \"supTwo\":\r\n    return firstValue +  \" <sup>2</sup> \" + secondValue;\r\n    break;\r\n  case \"percentage\":\r\n    return firstValue +  \" % \" + secondValue;\r\n    break;\r\n  case \"powx\":\r\n    return firstValue +  \"<sup>\"+ secondValue+\"</sup>\";\r\n    break;\r\n  case \"rootsquare\":\r\n    return \"&radic;\" + firstValue;\r\n  break;\r\n  }\r\n\r\n}\r\n\r\n//tooltip copy content on click\r\nconst calculatorHead = document.querySelector(\".calculator-head\");\r\nconst clickDiv = calculatorHead.querySelector(\"#clickDiv\");\r\nconst inputToolTip = document.querySelector(\"#inputToolTip\");\r\nconst tooltipText = inputToolTip.querySelector(\".textContent\");\r\n\r\nclickDiv.addEventListener(\"click\", ()=>{\r\n  const valueToCopy = calculationInput.value;\r\n  const slicedForLowEndMobile = valueToCopy.slice(0, 1000);\r\n  navigator.clipboard.writeText(slicedForLowEndMobile);\r\n  tooltipText.textContent = \"Copied!\";\r\n});\r\ncalculatorHead.addEventListener(\"mouseleave\", ()=>{\r\n  setTimeout(() => {\r\n    tooltipText.textContent = \"Copy\";\r\n  }, 200);\r\n});"],"names":["$997d473bf8847582$var$calculationInput","document","getElementById","$997d473bf8847582$var$calculatorBody","querySelector","$997d473bf8847582$var$previousOperation","$997d473bf8847582$var$reduceFont","inv","value","length","classList","add","remove","$997d473bf8847582$var$previousKeyType","$997d473bf8847582$var$firstNumber","$997d473bf8847582$var$operator","$997d473bf8847582$var$modValue","addEventListener","$997d473bf8847582$var$prevAnswer","$997d473bf8847582$var$prevAnswer_index","event","target","matches","key","action","dataset","clickedKey","textContent","inputContent","result","$997d473bf8847582$var$calc","includes","clearKey","firstValue","sOperator","secondValue","lastCalc","innerHTML","operator","$997d473bf8847582$var$checkOperator","push","displayLength","editedNumber","slice","console","log","number1","number2","firstNumToFloat","parseFloat","secondNumToFloat","Math","pow","sqrt","$997d473bf8847582$var$clickElementByID","id","click","$997d473bf8847582$var$keyboardNumbers","$997d473bf8847582$var$equalButton","querySelectorAll","forEach","element","blur","i","nums","numIndex","parseInt","$997d473bf8847582$var$calculatorHead","$997d473bf8847582$var$clickDiv","$997d473bf8847582$var$tooltipText","slicedForLowEndMobile","navigator","clipboard","writeText","setTimeout"],"version":3,"file":"index.355dde7e.js.map"}